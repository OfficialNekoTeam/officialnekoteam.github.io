# Web 仪表盘功能详解

本文档详细介绍 NekoBot Dashboard 的各项功能。

## 仪表盘概览

仪表盘提供 NekoBot 的整体运行状态和关键指标。

### 系统概览

- **插件数量**: 已加载的插件总数和启用数量
- **平台数量**: 已配置的平台数量和连接状态
- **消息统计**: 今日消息总数、本周消息总数
- **版本信息**: NekoBot 版本、Dashboard 版本

### 资源使用率

实时显示系统资源使用情况：

- **CPU 使用率**: 服务器 CPU 占用百分比
- **内存使用率**: 内存占用和可用内存
- **磁盘使用率**: 磁盘空间占用情况

数据每 5 秒自动刷新。

## 系统监控

### 实时监控

系统监控页面提供更详细的系统信息：

| 监控项 | 说明 | 更新频率 |
|--------|------|---------|
| CPU | 核心、使用率、负载 | 5秒 |
| 内存 | 总量、已用、可用、缓存 | 5秒 |
| 磁盘 | 各分区使用情况 | 5秒 |
| 网络 | 连接状态、流量 | 5秒 |
| 进程 | NekoBot 进程信息 | 5秒 |

### 性能优化建议

根据资源使用情况提供优化建议：

- CPU 使用率过高建议升级服务器或减少并发
- 内存不足建议增加内存或优化插件
- 磁盘空间不足建议清理日志文件

## 插件管理

### 插件列表

显示所有已安装的插件：

- **插件名称**: 插件显示名称
- **插件 ID**: 唯一标识符
- **状态**: 已启用/已禁用
- **版本**: 插件版本号
- **作者**: 插件作者
- **描述**: 插件功能说明

### 插件操作

#### 启用/禁用插件

1. 进入"插件管理"页面
2. 找到目标插件
3. 点击开关按钮切换状态

#### 重载插件

在开发或更新插件时，可以重载插件而无需重启整个服务：

1. 点击插件的"重载"按钮
2. 等待重载完成
3. 查看重载结果

#### 上传插件

支持上传新的插件文件：

1. 点击"上传插件"按钮
2. 选择插件文件（.py 或 .zip）
3. 等待上传和安装完成

#### 删除插件

1. 点击插件的"删除"按钮
2. 确认删除操作
3. 插件将从系统中移除

### 插件配置

部分插件支持配置编辑：

1. 点击插件的"配置"按钮
2. 编辑配置文件
3. 保存并应用

## 平台管理

### 平台列表

显示所有已配置的平台：

- **平台名称**: 平台显示名称
- **平台类型**: QQ、Telegram、Discord 等
- **状态**: 已连接/未连接/错误
- **消息统计**: 该平台的消息数量

### 添加平台

1. 点击"添加平台"按钮
2. 选择平台类型
3. 填写平台配置：
   - **名称**: 平台显示名称
   - **Token/API Key**: 平台认证信息
   - **其他配置**: 根据平台类型填写
4. 保存并启用

### 编辑平台

1. 点击平台的"编辑"按钮
2. 修改配置信息
3. 保存更改

### 删除平台

1. 点击平台的"删除"按钮
2. 确认删除操作

## LLM 管理

### 提供商列表

显示所有已配置的 LLM 提供商：

- **提供商名称**: 显示名称
- **提供商类型**: OpenAI、Gemini、Claude 等
- **模型**: 使用的模型名称
- **状态**: 已启用/已禁用

### 添加提供商

1. 点击"添加提供商"按钮
2. 选择提供商类型
3. 填写配置：
   - **ID**: 唯一标识符
   - **API Key**: API 密钥
   - **Base URL**: API 端点（可选）
   - **Model**: 模型名称
4. 保存并启用

### 支持的提供商

- OpenAI (GPT-4o, GPT-4o-mini, GPT-3.5-turbo)
- Google Gemini (Gemini 2.0 Flash, Gemini 1.5 Pro)
- Claude (Claude 3.5 Sonnet, Claude 3.5 Haiku)
- DeepSeek (DeepSeek Chat, DeepSeek Coder)
- DashScope (通义千问)
- Moonshot (Kimi)
- ZhipuAI (智谱 GLM)
- Ollama (本地)
- LM Studio (本地)

## 会话管理

### 会话列表

显示所有活跃的对话会话：

- **会话 ID**: 唯一标识符
- **平台**: 所属平台
- **用户**: 用户标识
- **消息数**: 会话消息数量
- **创建时间**: 会话创建时间
- **最后活跃**: 最后一次活动时间

### 会话操作

#### 查看会话详情

1. 点击会话查看完整对话历史
2. 查看用户信息
3. 查看使用的 LLM 提供商

#### 删除会话

1. 选择要删除的会话
2. 点击"删除"按钮
3. 确认删除

#### 会话总结

AI 自动生成的会话摘要，帮助快速了解会话内容。

## 人设管理

### 人设列表

显示所有已创建的 AI 人设：

- **人设名称**: 显示名称
- **描述**: 人设描述
- **系统提示**: 人设系统提示词
- **状态**: 是否为默认人设

### 创建人设

1. 点击"添加人设"按钮
2. 填写人设信息：
   - **名称**: 人设名称
   - **描述**: 简短描述
   - **系统提示**: 定义人设行为和性格
3. 保存

### 设置默认人设

1. 选择要设置为人设的选项
2. 点击"设为默认"按钮

## 命令管理

### 命令列表

显示所有已注册的命令：

- **命令名称**: 命令触发词
- **所属插件**: 提供该命令的插件
- **描述**: 命令功能说明
- **状态**: 已启用/已禁用

### 命令操作

#### 启用/禁用命令

1. 找到目标命令
2. 点击开关按钮

#### 重命名命令

1. 点击命令的"编辑"按钮
2. 修改命令名称
3. 保存

#### 冲突检测

系统自动检测命令冲突：

- 同一插件内的重复命令
- 不同插件间的重复命令

冲突命令会显示警告，建议重命名以避免问题。

## 日志查看

### 日志文件列表

显示可用的日志文件：

- **文件名**: 日志文件名称
- **大小**: 文件大小
- **修改时间**: 最后修改时间

### 查看日志

1. 选择要查看的日志文件
2. 日志内容实时显示
3. 支持按类型筛选：
   - INFO
   - WARNING
   - ERROR
   - DEBUG

### 日志搜索

支持关键字搜索日志内容，快速定位问题。

## 设置

### 系统设置

查看和编辑系统配置：

- **命令前缀**: 触发命令的前缀
- **服务器配置**: 主机、端口
- **JWT 配置**: 认证相关配置
- **其他配置**: 其他系统配置

### 机器人配置

- **机器人名称**: 显示名称
- **头像**: 机器人头像 URL
- **简介**: 机器人简介

### 版本管理

- **当前版本**: 显示当前运行版本
- **检查更新**: 检查是否有新版本
- **更新日志**: 查看版本更新内容

### 服务重启

重启 NekoBot 服务：

1. 点击"重启服务"按钮
2. 确认重启
3. 等待服务重启完成

> **注意**: 重启服务会短暂中断服务，建议在低峰时段操作。

## 主题和界面

### 主题切换

支持深色和浅色主题：

1. 点击右上角主题切换按钮
2. 选择喜欢的主题

### 语言设置

目前支持中文和英文（更多语言开发中）。

### 响应式设计

仪表盘支持多种设备：

- 桌面电脑（推荐）
- 平板电脑
- 手机

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| Ctrl/Cmd + K | 打开搜索 |
| Ctrl/Cmd + / | 打开命令面板 |

## 最佳实践

1. **定期备份** - 定期备份重要配置和数据
2. **监控日志** - 及时发现和处理错误
3. **更新插件** - 保持插件为最新版本
4. **优化性能** - 根据资源使用情况优化配置
5. **安全设置** - 使用强密码并定期更换

## 相关链接

- [仪表盘介绍](./dashboard.md)
- [仪表盘部署](./dashboard-deployment.md)
- [GitHub 仓库](https://github.com/NekoBotTeam/NekoBot-Dashboard)