<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>NekoBot - QQ 平台对接</title>
    
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.JO847nB8.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CueNHam2.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.CIrE3-05.js">
    <link rel="modulepreload" href="/assets/chunks/framework.OpiqYVxT.js">
    <link rel="modulepreload" href="/assets/guide_platforms_qq.md.CQlAeys-.lean.js">
    <link rel="icon" type="image/png" href="/logo.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI驱动的机器人框架">
    <meta name="keywords" content="NekoBot, 机器人, AI, 插件, 框架">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d51a6599><!--[--><!--]--><!--[--><span tabindex="-1" data-v-10b27373></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-10b27373>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d51a6599 data-v-46094d15><div class="VPNavBar" data-v-46094d15 data-v-d78ca823><div class="wrapper" data-v-d78ca823><div class="container" data-v-d78ca823><div class="title" data-v-d78ca823><div class="VPNavBarTitle has-sidebar" data-v-d78ca823 data-v-f7d20bc5><a class="title" href="/" data-v-f7d20bc5><!--[--><!--]--><!----><span data-v-f7d20bc5>NekoBot</span><!--[--><!--]--></a></div></div><div class="content" data-v-d78ca823><div class="content-body" data-v-d78ca823><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d78ca823><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d78ca823 data-v-e2010dbd><span id="main-nav-aria-label" class="visually-hidden" data-v-e2010dbd> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/getting-started.html" tabindex="0" data-v-e2010dbd data-v-732dd8df><!--[--><span data-v-732dd8df>快速开始</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/other/about.html" tabindex="0" data-v-e2010dbd data-v-732dd8df><!--[--><span data-v-732dd8df>关于</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-d78ca823 data-v-4d2c089f data-v-208f54ef><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-208f54ef><span class="text" data-v-208f54ef><span class="vpi-languages option-icon" data-v-208f54ef></span><!----><span class="vpi-chevron-down text-icon" data-v-208f54ef></span></span></button><div class="menu" data-v-208f54ef><div class="VPMenu" data-v-208f54ef data-v-a221c5c0><!----><!--[--><!--[--><div class="items" data-v-4d2c089f><p class="title" data-v-4d2c089f>简体中文</p><!--[--><div class="VPMenuLink" data-v-4d2c089f data-v-c385cca8><a class="VPLink link" href="/en/guide/platforms/qq.html" data-v-c385cca8><!--[--><span data-v-c385cca8>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-d78ca823 data-v-3a45dc95><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3a45dc95 data-v-690cc5ca data-v-a3d14c41><span class="check" data-v-a3d14c41><span class="icon" data-v-a3d14c41><!--[--><span class="vpi-sun sun" data-v-690cc5ca></span><span class="vpi-moon moon" data-v-690cc5ca></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d78ca823 data-v-a85f54a3 data-v-64d1717d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/NekoBotTeam/NekoBot" aria-label="github" target="_blank" rel="noopener" data-v-64d1717d data-v-0be617fd><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d78ca823 data-v-bcd821a2 data-v-208f54ef><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-208f54ef><span class="vpi-more-horizontal icon" data-v-208f54ef></span></button><div class="menu" data-v-208f54ef><div class="VPMenu" data-v-208f54ef data-v-a221c5c0><!----><!--[--><!--[--><div class="group translations" data-v-bcd821a2><p class="trans-title" data-v-bcd821a2>简体中文</p><!--[--><div class="VPMenuLink" data-v-bcd821a2 data-v-c385cca8><a class="VPLink link" href="/en/guide/platforms/qq.html" data-v-c385cca8><!--[--><span data-v-c385cca8>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-bcd821a2><div class="item appearance" data-v-bcd821a2><p class="label" data-v-bcd821a2>主题</p><div class="appearance-action" data-v-bcd821a2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bcd821a2 data-v-690cc5ca data-v-a3d14c41><span class="check" data-v-a3d14c41><span class="icon" data-v-a3d14c41><!--[--><span class="vpi-sun sun" data-v-690cc5ca></span><span class="vpi-moon moon" data-v-690cc5ca></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bcd821a2><div class="item social-links" data-v-bcd821a2><div class="VPSocialLinks social-links-list" data-v-bcd821a2 data-v-64d1717d><!--[--><a class="VPSocialLink no-icon" href="https://github.com/NekoBotTeam/NekoBot" aria-label="github" target="_blank" rel="noopener" data-v-64d1717d data-v-0be617fd><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="阅读增强" role="menuitem" data-v-208f54ef><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-208f54ef><span class="text" data-v-208f54ef><span class="i-icon-park-outline:book-open option-icon" data-v-208f54ef></span><!----><span class="vpi-chevron-down text-icon" data-v-208f54ef></span></span></button><div class="menu" data-v-208f54ef><div class="VPMenu" data-v-208f54ef data-v-a221c5c0><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d78ca823 data-v-4ae28fbc><span class="container" data-v-4ae28fbc><span class="top" data-v-4ae28fbc></span><span class="middle" data-v-4ae28fbc></span><span class="bottom" data-v-4ae28fbc></span></span></button></div></div></div></div><div class="divider" data-v-d78ca823><div class="divider-line" data-v-d78ca823></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d51a6599 data-v-ddf4efb2><div class="container" data-v-ddf4efb2><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-ddf4efb2><span class="vpi-align-left menu-icon" data-v-ddf4efb2></span><span class="menu-text" data-v-ddf4efb2>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-ddf4efb2 data-v-609ee221><button data-v-609ee221>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-d51a6599 data-v-2c4018d4><div class="curtain" data-v-2c4018d4></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-2c4018d4><span class="visually-hidden" id="sidebar-aria-label" data-v-2c4018d4> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-94c8e344><section class="VPSidebarItem level-0" data-v-94c8e344 data-v-be0fcfa9><div class="item" role="button" tabindex="0" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><h2 class="text" data-v-be0fcfa9>快速开始</h2><!----></div><div class="items" data-v-be0fcfa9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/getting-started.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>快速开始</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/what-is-nekobot.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>什么是 NekoBot</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/installation.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>安装和配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/startup.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>启动方式</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-94c8e344><section class="VPSidebarItem level-0" data-v-94c8e344 data-v-be0fcfa9><div class="item" role="button" tabindex="0" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><h2 class="text" data-v-be0fcfa9>核心功能</h2><!----></div><div class="items" data-v-be0fcfa9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/architecture.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>架构设计</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/plugins.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>插件系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/commands.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>命令系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/llm.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>LLM配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/logging.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>日志管理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-94c8e344><section class="VPSidebarItem level-0 has-active" data-v-94c8e344 data-v-be0fcfa9><div class="item" role="button" tabindex="0" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><h2 class="text" data-v-be0fcfa9>平台对接</h2><!----></div><div class="items" data-v-be0fcfa9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>平台对接</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/qq.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>QQ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/discord.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>Discord</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/telegram.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>Telegram</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/dingtalk.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>钉钉</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/wechat.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>微信</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-be0fcfa9 data-v-be0fcfa9><div class="item" data-v-be0fcfa9><div class="indicator" data-v-be0fcfa9></div><a class="VPLink link link" href="/guide/platforms/feishu.html" data-v-be0fcfa9><!--[--><p class="text" data-v-be0fcfa9>飞书</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d51a6599 data-v-cee4250e><div class="VPDoc has-sidebar has-aside" data-v-cee4250e data-v-b7c0e1be><!--[--><!--]--><div class="container" data-v-b7c0e1be><div class="aside" data-v-b7c0e1be><div class="aside-curtain" data-v-b7c0e1be></div><div class="aside-container" data-v-b7c0e1be><div class="aside-content" data-v-b7c0e1be><div class="VPDocAside" data-v-b7c0e1be data-v-59e28c3f><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-59e28c3f data-v-4066c2bb><div class="content" data-v-4066c2bb><div class="outline-marker" data-v-4066c2bb></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-4066c2bb>页面大纲</div><ul class="VPDocOutlineItem root" data-v-4066c2bb data-v-e5ea3777><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-59e28c3f></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-b7c0e1be><div class="content-container" data-v-b7c0e1be><!--[--><!--]--><main class="main" data-v-b7c0e1be><div style="position:relative;" class="vp-doc _guide_platforms_qq" data-v-b7c0e1be><div><h1 id="qq-平台对接" tabindex="-1">QQ 平台对接 <a class="header-anchor" href="#qq-平台对接" aria-label="Permalink to &quot;QQ 平台对接&quot;">​</a></h1><p>NekoBot 支持 QQ 平台，通过 OneBot V11 协议对接。</p><h2 id="onebot-v11-协议" tabindex="-1">OneBot V11 协议 <a class="header-anchor" href="#onebot-v11-协议" aria-label="Permalink to &quot;OneBot V11 协议&quot;">​</a></h2><p>OneBot V11 是 CQHTTP 的继承者，是一个通用的机器人消息接口标准。</p><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><h3 id="_1-安装-napcatqq" tabindex="-1">1. 安装 NapCatQQ <a class="header-anchor" href="#_1-安装-napcatqq" aria-label="Permalink to &quot;1. 安装 NapCatQQ&quot;">​</a></h3><p>NapCatQQ 是基于 NTQQ 的 OneBot V11 实现。</p><h4 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h4><ol><li>下载 <a href="https://github.com/NapNeko/NapCatQQ/releases" target="_blank" rel="noreferrer">NapCatQQ</a></li><li>解压并运行</li><li>按照提示配置</li></ol><h4 id="linux" tabindex="-1">Linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;Linux&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/NapNeko/NapCatQQ.git</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NapCatQQ</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> napcat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 6299:6299</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ghcr.io/mlikiowa/napcat-docker:latest</span></span></code></pre></div><h3 id="_2-配置-nekobot" tabindex="-1">2. 配置 NekoBot <a class="header-anchor" href="#_2-配置-nekobot" aria-label="Permalink to &quot;2. 配置 NekoBot&quot;">​</a></h3><p>编辑 <code>data/platforms_sources.json</code>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NekoBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ws_host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ws_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6299</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;command_prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-配置-napcatqq" tabindex="-1">3. 配置 NapCatQQ <a class="header-anchor" href="#_3-配置-napcatqq" aria-label="Permalink to &quot;3. 配置 NapCatQQ&quot;">​</a></h3><p>在 NapCatQQ 配置文件中设置 WebSocket 服务：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">onebot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    enable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0.0.0</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6299</span></span></code></pre></div><h3 id="_4-启动服务" tabindex="-1">4. 启动服务 <a class="header-anchor" href="#_4-启动服务" aria-label="Permalink to &quot;4. 启动服务&quot;">​</a></h3><ol><li>启动 NapCatQQ</li><li>启动 NekoBot：</li></ol><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main.py</span></span></code></pre></div><h2 id="事件类型" tabindex="-1">事件类型 <a class="header-anchor" href="#事件类型" aria-label="Permalink to &quot;事件类型&quot;">​</a></h2><p>NekoBot 支持以下 QQ 事件：</p><h3 id="消息事件" tabindex="-1">消息事件 <a class="header-anchor" href="#消息事件" aria-label="Permalink to &quot;消息事件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>事件类型</th><th>说明</th></tr></thead><tbody><tr><td>群消息</td><td>群组内的消息</td></tr><tr><td>私聊消息</td><td>私聊消息</td></tr><tr><td>群提示消息</td><td>群组提示消息（如入群、退群）</td></tr><tr><td>频道消息</td><td>QQ 频道消息</td></tr></tbody></table><h3 id="通知事件" tabindex="-1">通知事件 <a class="header-anchor" href="#通知事件" aria-label="Permalink to &quot;通知事件&quot;">​</a></h3><table tabindex="0"><thead><tr><th>事件类型</th><th>说明</th></tr></thead><tbody><tr><td>群成员增加</td><td>新成员加入群组</td></tr><tr><td>群成员减少</td><td>成员离开群组</td></tr><tr><td>群禁言</td><td>群组禁言事件</td></tr><tr><td>好友添加</td><td>好友添加事件</td></tr></tbody></table><h2 id="消息发送" tabindex="-1">消息发送 <a class="header-anchor" href="#消息发送" aria-label="Permalink to &quot;消息发送&quot;">​</a></h2><h3 id="发送群消息" tabindex="-1">发送群消息 <a class="header-anchor" href="#发送群消息" aria-label="Permalink to &quot;发送群消息&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.send_group_message(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    group_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123456</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    user_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">789</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="发送私聊消息" tabindex="-1">发送私聊消息 <a class="header-anchor" href="#发送私聊消息" aria-label="Permalink to &quot;发送私聊消息&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.send_private_message(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    user_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">789</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="发送图片" tabindex="-1">发送图片 <a class="header-anchor" href="#发送图片" aria-label="Permalink to &quot;发送图片&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> httpx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> send_image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, group_id, user_id, image_url):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.send_group_message(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        group_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">group_id,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        user_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user_id,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;[CQ:image,file=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">image_url</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span></code></pre></div><h3 id="发送富文本消息" tabindex="-1">发送富文本消息 <a class="header-anchor" href="#发送富文本消息" aria-label="Permalink to &quot;发送富文本消息&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> send_rich_message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, group_id, user_id):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;欢迎使用 NekoBot!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;[CQ:face,id=128]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;点击查看更多：https://example.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.send_group_message(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        group_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">group_id,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        user_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user_id,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">message,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span></code></pre></div><h2 id="cq-码格式" tabindex="-1">CQ 码格式 <a class="header-anchor" href="#cq-码格式" aria-label="Permalink to &quot;CQ 码格式&quot;">​</a></h2><p>OneBot V11 使用 CQ 码表示特殊消息元素：</p><table tabindex="0"><thead><tr><th>CQ 码</th><th>说明</th><th>示例</th></tr></thead><tbody><tr><td><code>[CQ:image,file=xxx]</code></td><td>图片</td><td><code>[CQ:image,file=http://example.com/image.jpg]</code></td></tr><tr><td><code>[CQ:record,file=xxx]</code></td><td>语音</td><td><code>[CQ:record,file=http://example.com/audio.mp3]</code></td></tr><tr><td><code>[CQ:at,id=xxx]</code></td><td>@某人</td><td><code>[CQ:at,id=123456]</code></td></tr><tr><td><code>[CQ:face,id=xxx]</code></td><td>表情</td><td><code>[CQ:face,id=128]</code></td></tr><tr><td><code>[CQ:share,url=xxx]</code></td><td>链接分享</td><td><code>[CQ:share,url=https://example.com]</code></td></tr><tr><td><code>[CQ:music,id=xxx]</code></td><td>音乐分享</td><td><code>[CQ:music,id=123456]</code></td></tr></tbody></table><h2 id="高级功能" tabindex="-1">高级功能 <a class="header-anchor" href="#高级功能" aria-label="Permalink to &quot;高级功能&quot;">​</a></h2><h3 id="群组管理" tabindex="-1">群组管理 <a class="header-anchor" href="#群组管理" aria-label="Permalink to &quot;群组管理&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kick_user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, group_id, user_id, reject_add_request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 踢出群成员</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.platform_server.call_platform_api(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;set_group_kick&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: group_id, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: user_id, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;reject_add_request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: reject_add_request}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> mute_user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, group_id, user_id, duration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 禁言用户（秒）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.platform_server.call_platform_api(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;set_group_ban&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: group_id, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: user_id, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;duration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: duration}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span></code></pre></div><h3 id="好友操作" tabindex="-1">好友操作 <a class="header-anchor" href="#好友操作" aria-label="Permalink to &quot;好友操作&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add_friend</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, user_id, comment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 添加好友</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.platform_server.call_platform_api(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;set_friend_add_request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;flag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: flag, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;approve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;remark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: comment}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span></code></pre></div><h3 id="获取群成员列表" tabindex="-1">获取群成员列表 <a class="header-anchor" href="#获取群成员列表" aria-label="Permalink to &quot;获取群成员列表&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_group_members</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, group_id):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.platform_server.call_platform_api(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        platform_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;get_group_member_list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        params</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: group_id}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [])</span></span></code></pre></div><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="连接失败" tabindex="-1">连接失败 <a class="header-anchor" href="#连接失败" aria-label="Permalink to &quot;连接失败&quot;">​</a></h3><p>检查以下几点：</p><ol><li>NapCatQQ 是否正常运行</li><li>WebSocket 端口是否正确</li><li>防火墙是否允许连接</li><li>NekoBot 是否有权限访问 NapCatQQ</li></ol><h3 id="消息发送失败" tabindex="-1">消息发送失败 <a class="header-anchor" href="#消息发送失败" aria-label="Permalink to &quot;消息发送失败&quot;">​</a></h3><ol><li>检查机器人是否有权限在群组内发送消息</li><li>确认 CQ 码格式是否正确</li><li>检查消息内容是否包含违规内容</li></ol><h3 id="群组权限问题" tabindex="-1">群组权限问题 <a class="header-anchor" href="#群组权限问题" aria-label="Permalink to &quot;群组权限问题&quot;">​</a></h3><p>确保机器人账号具有以下权限：</p><ul><li>发送消息权限</li><li>@全体成员权限（如需）</li><li>管理员权限（如需执行管理操作）</li></ul><h2 id="相关链接" tabindex="-1">相关链接 <a class="header-anchor" href="#相关链接" aria-label="Permalink to &quot;相关链接&quot;">​</a></h2><ul><li><a href="https://11.onebot.dev/" target="_blank" rel="noreferrer">OneBot V11 规范</a></li><li><a href="https://github.com/NapNeko/NapCatQQ" target="_blank" rel="noreferrer">NapCatQQ GitHub</a></li><li><a href="https://docs.go-cqhttp.org/cqcode" target="_blank" rel="noreferrer">CQ 码列表</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-b7c0e1be data-v-7a30d0e5><!--[--><!--]--><div class="edit-info" data-v-7a30d0e5><div class="edit-link" data-v-7a30d0e5><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/NekoBotTeam/NekoBot/edit/main/docs/guide/platforms/qq.md" target="_blank" rel="noreferrer" data-v-7a30d0e5><!--[--><span class="vpi-square-pen edit-link-icon" data-v-7a30d0e5></span> 在 GitHub 上编辑此页<!--]--></a></div><div class="last-updated" data-v-7a30d0e5><p class="VPLastUpdated" data-v-7a30d0e5 data-v-147ae655>最后更新于: <time datetime="2025-12-29T15:07:34.000Z" data-v-147ae655></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-7a30d0e5><span class="visually-hidden" id="doc-footer-aria-label" data-v-7a30d0e5>Pager</span><div class="pager" data-v-7a30d0e5><a class="VPLink link pager-link prev" href="/guide/platforms.html" data-v-7a30d0e5><!--[--><span class="desc" data-v-7a30d0e5>Previous page</span><span class="title" data-v-7a30d0e5>平台对接</span><!--]--></a></div><div class="pager" data-v-7a30d0e5><a class="VPLink link pager-link next" href="/guide/platforms/discord.html" data-v-7a30d0e5><!--[--><span class="desc" data-v-7a30d0e5>Next page</span><span class="title" data-v-7a30d0e5>Discord</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d51a6599 data-v-2275c448><div class="container" data-v-2275c448><p class="message" data-v-2275c448>基于 MIT 许可发布</p><p class="copyright" data-v-2275c448>Copyright © 2025 NekoBotTeam</p></div></footer><!--[--><!----><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"api_overview.md\":\"BQ0rZiaz\",\"en_api_overview.md\":\"8TX_QufS\",\"en_guide_architecture.md\":\"Eo6CLX05\",\"en_guide_commands.md\":\"B5JH44wR\",\"en_guide_getting-started.md\":\"Csx5R0r9\",\"en_guide_installation.md\":\"B0DCabg6\",\"en_guide_llm.md\":\"BS4QFLSQ\",\"en_guide_logging.md\":\"B1B3YJwQ\",\"en_guide_platforms.md\":\"kmBQwwjD\",\"en_guide_platforms_discord.md\":\"gFRmQkeQ\",\"en_guide_platforms_qq.md\":\"DouShMIk\",\"en_guide_platforms_telegram.md\":\"BkpZjyZr\",\"en_guide_plugins.md\":\"BqE1Ix-c\",\"en_index.md\":\"CF8Ar4tl\",\"guide_architecture.md\":\"CSb5vFAy\",\"guide_commands.md\":\"STtjRnbk\",\"guide_getting-started.md\":\"BY3RHQnB\",\"guide_installation.md\":\"CqSxl84X\",\"guide_llm.md\":\"CCp608Nt\",\"guide_logging.md\":\"Bbeft5-N\",\"guide_platforms.md\":\"CSvJTaY6\",\"guide_platforms_discord.md\":\"BeuE_OOM\",\"guide_platforms_qq.md\":\"CQlAeys-\",\"guide_platforms_telegram.md\":\"CXxMETpq\",\"guide_plugins.md\":\"B0E4zPia\",\"index.md\":\"CFDZ7NBw\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"NekoBot\",\"titleTemplate\":\"NekoBot - :title\",\"description\":\"AI驱动的机器人框架\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}},\"en\":{\"translations\":{\"button\":{\"buttonText\":\"Search Docs\",\"buttonAriaLabel\":\"Search Docs\"},\"modal\":{\"noResultsText\":\"No results found\",\"resetButtonTitle\":\"Clear query\",\"footer\":{\"selectText\":\"Select\",\"navigateText\":\"Navigate\"}}}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/NekoBotTeam/NekoBot\"}],\"footer\":{\"message\":\"基于 MIT 许可发布\",\"copyright\":\"Copyright © 2025 NekoBotTeam\"},\"editLink\":{\"pattern\":\"https://github.com/NekoBotTeam/NekoBot/edit/main/docs/:path\",\"text\":\"在 GitHub 上编辑此页\"},\"lastUpdated\":{\"text\":\"最后更新于\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"outline\":{\"level\":[2,3],\"label\":\"页面大纲\"},\"returnToTopLabel\":\"返回顶部\",\"sidebarMenuLabel\":\"菜单\",\"darkModeSwitchLabel\":\"主题\",\"lightModeSwitchTitle\":\"切换到浅色模式\",\"darkModeSwitchTitle\":\"切换到深色模式\"},\"locales\":{\"root\":{\"label\":\"简体中文\",\"lang\":\"zh\",\"title\":\"NekoBot\",\"description\":\"AI驱动的机器人框架\",\"themeConfig\":{\"nav\":[{\"text\":\"快速开始\",\"link\":\"/guide/getting-started\"},{\"text\":\"关于\",\"link\":\"/other/about\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"快速开始\",\"items\":[{\"text\":\"快速开始\",\"link\":\"/guide/getting-started\"},{\"text\":\"什么是 NekoBot\",\"link\":\"/guide/what-is-nekobot\"},{\"text\":\"安装和配置\",\"link\":\"/guide/installation\"},{\"text\":\"启动方式\",\"link\":\"/guide/startup\"}]},{\"text\":\"核心功能\",\"items\":[{\"text\":\"架构设计\",\"link\":\"/guide/architecture\"},{\"text\":\"插件系统\",\"link\":\"/guide/plugins\"},{\"text\":\"命令系统\",\"link\":\"/guide/commands\"},{\"text\":\"LLM配置\",\"link\":\"/guide/llm\"},{\"text\":\"日志管理\",\"link\":\"/guide/logging\"}]},{\"text\":\"平台对接\",\"items\":[{\"text\":\"平台对接\",\"link\":\"/guide/platforms\"},{\"text\":\"QQ\",\"link\":\"/guide/platforms/qq\"},{\"text\":\"Discord\",\"link\":\"/guide/platforms/discord\"},{\"text\":\"Telegram\",\"link\":\"/guide/platforms/telegram\"},{\"text\":\"钉钉\",\"link\":\"/guide/platforms/dingtalk\"},{\"text\":\"微信\",\"link\":\"/guide/platforms/wechat\"},{\"text\":\"飞书\",\"link\":\"/guide/platforms/feishu\"}]}],\"/config/\":[{\"text\":\"配置\",\"items\":[{\"text\":\"基础配置\",\"link\":\"/config/basic\"},{\"text\":\"高级配置\",\"link\":\"/config/advanced\"}]}],\"/use/\":[{\"text\":\"使用\",\"items\":[{\"text\":\"接入框架\",\"link\":\"/use/integration\"},{\"text\":\"社区资源\",\"link\":\"/use/community\"}]}],\"/develop/\":[{\"text\":\"开发\",\"items\":[{\"text\":\"插件开发\",\"link\":\"/develop/plugin\"},{\"text\":\"API 文档\",\"link\":\"/develop/api\"},{\"text\":\"事件处理\",\"link\":\"/develop/events\"},{\"text\":\"消息类型\",\"link\":\"/develop/messages\"}]}],\"/other/\":[{\"text\":\"其他\",\"items\":[{\"text\":\"关于\",\"link\":\"/other/about\"},{\"text\":\"安全\",\"link\":\"/other/security\"},{\"text\":\"贡献指南\",\"link\":\"/other/contributing\"}]}],\"/api/\":[{\"text\":\"API 参考\",\"items\":[{\"text\":\"API 概览\",\"link\":\"/api/overview\"}]}]}}},\"en\":{\"label\":\"English\",\"lang\":\"en\",\"title\":\"NekoBot\",\"description\":\"AI-powered bot framework\",\"themeConfig\":{\"nav\":[{\"text\":\"Quick Start\",\"link\":\"/en/guide/getting-started\"},{\"text\":\"About\",\"link\":\"/en/other/about\"}],\"sidebar\":{\"/en/guide/\":[{\"text\":\"Quick Start\",\"items\":[{\"text\":\"Quick Start\",\"link\":\"/en/guide/getting-started\"},{\"text\":\"What is NekoBot\",\"link\":\"/en/guide/what-is-nekobot\"},{\"text\":\"Installation\",\"link\":\"/en/guide/installation\"},{\"text\":\"Startup\",\"link\":\"/en/guide/startup\"}]},{\"text\":\"Core Features\",\"items\":[{\"text\":\"Architecture\",\"link\":\"/en/guide/architecture\"},{\"text\":\"Plugin System\",\"link\":\"/en/guide/plugins\"},{\"text\":\"Command System\",\"link\":\"/en/guide/commands\"},{\"text\":\"LLM Configuration\",\"link\":\"/en/guide/llm\"},{\"text\":\"Logging\",\"link\":\"/en/guide/logging\"}]},{\"text\":\"Platform Integration\",\"items\":[{\"text\":\"Platforms\",\"link\":\"/en/guide/platforms\"},{\"text\":\"QQ\",\"link\":\"/en/guide/platforms/qq\"},{\"text\":\"Discord\",\"link\":\"/en/guide/platforms/discord\"},{\"text\":\"Telegram\",\"link\":\"/en/guide/platforms/telegram\"},{\"text\":\"DingTalk\",\"link\":\"/en/guide/platforms/dingtalk\"},{\"text\":\"WeChat\",\"link\":\"/en/guide/platforms/wechat\"},{\"text\":\"Feishu\",\"link\":\"/en/guide/platforms/feishu\"}]}],\"/en/config/\":[{\"text\":\"Configuration\",\"items\":[{\"text\":\"Basic Config\",\"link\":\"/en/config/basic\"},{\"text\":\"Advanced Config\",\"link\":\"/en/config/advanced\"}]}],\"/en/use/\":[{\"text\":\"Usage\",\"items\":[{\"text\":\"Integration\",\"link\":\"/en/use/integration\"},{\"text\":\"Community\",\"link\":\"/en/use/community\"}]}],\"/en/develop/\":[{\"text\":\"Development\",\"items\":[{\"text\":\"Plugin Development\",\"link\":\"/en/develop/plugin\"},{\"text\":\"API Documentation\",\"link\":\"/en/develop/api\"},{\"text\":\"Events\",\"link\":\"/en/develop/events\"},{\"text\":\"Message Types\",\"link\":\"/en/develop/messages\"}]}],\"/en/other/\":[{\"text\":\"Other\",\"items\":[{\"text\":\"About\",\"link\":\"/en/other/about\"},{\"text\":\"Security\",\"link\":\"/en/other/security\"},{\"text\":\"Contributing\",\"link\":\"/en/other/contributing\"}]}],\"/en/api/\":[{\"text\":\"API Reference\",\"items\":[{\"text\":\"API Overview\",\"link\":\"/en/api/overview\"}]}]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>