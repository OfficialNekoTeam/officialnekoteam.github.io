import{_ as i,c as a,o as t,az as n}from"./chunks/framework.OpiqYVxT.js";const E=JSON.parse('{"title":"平台对接","description":"","frontmatter":{},"headers":[],"relativePath":"guide/platforms.md","filePath":"guide/platforms.md","lastUpdated":1767345782000}'),l={name:"guide/platforms.md"};function h(p,s,e,k,r,d){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="平台对接" tabindex="-1">平台对接 <a class="header-anchor" href="#平台对接" aria-label="Permalink to &quot;平台对接&quot;">​</a></h1><p>NekoBot 支持多个主流聊天平台，通过统一的平台适配器接口实现跨平台消息处理。</p><h2 id="支持的平台" tabindex="-1">支持的平台 <a class="header-anchor" href="#支持的平台" aria-label="Permalink to &quot;支持的平台&quot;">​</a></h2><table tabindex="0"><thead><tr><th>平台</th><th>协议/类型</th><th>流式消息</th><th>状态</th></tr></thead><tbody><tr><td><strong>QQ</strong></td><td>OneBot V11</td><td>否</td><td>✅</td></tr><tr><td><strong>Discord</strong></td><td>Discord Bot API</td><td>否</td><td>✅</td></tr><tr><td><strong>Telegram</strong></td><td>Telegram Bot API</td><td>是</td><td>✅</td></tr><tr><td><strong>飞书</strong></td><td>飞书官方 API</td><td>否</td><td>✅</td></tr><tr><td><strong>KOOK</strong></td><td>开黑平台</td><td>是</td><td>✅</td></tr><tr><td><strong>QQ频道</strong></td><td>QQ频道官方 API</td><td>是</td><td>✅</td></tr><tr><td><strong>Slack</strong></td><td>Slack Bot API</td><td>否</td><td>✅</td></tr><tr><td><strong>企业微信</strong></td><td>企业微信官方 API</td><td>否</td><td>✅</td></tr></tbody></table><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><p>选择一个平台开始配置：</p><ul><li><a href="./platforms/qq.html">QQ (OneBot V11)</a> - 通过 NapCatQQ/NapCat 对接 QQ</li><li><a href="./platforms/discord.html">Discord</a> - 使用 Discord Bot API</li><li><a href="./platforms/telegram.html">Telegram</a> - 使用 Telegram Bot API</li><li><a href="./platforms/feishu.html">飞书</a> - 使用飞书官方 API</li><li><a href="./platforms/kook.html">KOOK</a> - 使用开黑平台 API</li><li><a href="./platforms/qqchannel.html">QQ频道</a> - 使用 QQ频道官方 API</li><li><a href="./platforms/slack.html">Slack</a> - 使用 Slack Bot API</li><li><a href="./platforms/wecom.html">企业微信</a> - 使用企业微信官方 API</li></ul><h2 id="平台配置" tabindex="-1">平台配置 <a class="header-anchor" href="#平台配置" aria-label="Permalink to &quot;平台配置&quot;">​</a></h2><h3 id="通过-web-仪表盘添加" tabindex="-1">通过 Web 仪表盘添加 <a class="header-anchor" href="#通过-web-仪表盘添加" aria-label="Permalink to &quot;通过 Web 仪表盘添加&quot;">​</a></h3><ol><li>登录 Web 仪表盘</li><li>进入&quot;平台管理&quot;页面</li><li>点击&quot;添加平台&quot;</li><li>选择平台类型并填写配置</li><li>保存并启用平台</li></ol><h3 id="通过配置文件添加" tabindex="-1">通过配置文件添加 <a class="header-anchor" href="#通过配置文件添加" aria-label="Permalink to &quot;通过配置文件添加&quot;">​</a></h3><p>编辑 <code>data/platforms_sources.json</code>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NekoBot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ws_host&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;ws_port&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6299</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;command_prefix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;telegram&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;telegram&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;enable&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;telegram&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-telegram-bot-token&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="平台适配器" tabindex="-1">平台适配器 <a class="header-anchor" href="#平台适配器" aria-label="Permalink to &quot;平台适配器&quot;">​</a></h2><h3 id="开发自定义适配器" tabindex="-1">开发自定义适配器 <a class="header-anchor" href="#开发自定义适配器" aria-label="Permalink to &quot;开发自定义适配器&quot;">​</a></h3><p>如果你需要对接新的平台，可以开发自定义平台适配器。</p><p>每个平台适配器需要实现以下方法：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> packages.platform.base </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BasePlatform</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPlatform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BasePlatform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> connect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;连接到平台&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        pass</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> send_message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, message_type, target_id, message):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;发送消息&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        pass</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> disconnect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;断开连接&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        pass</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_stats</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;获取统计信息&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        pass</span></span></code></pre></div><h3 id="注册平台" tabindex="-1">注册平台 <a class="header-anchor" href="#注册平台" aria-label="Permalink to &quot;注册平台&quot;">​</a></h3><p>在 <code>packages/platform/register.py</code> 中注册你的平台：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> packages.platform.sources.my_platform </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MyPlatform</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PLATFORMS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;my_platform&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: MyPlatform</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="统一消息模型" tabindex="-1">统一消息模型 <a class="header-anchor" href="#统一消息模型" aria-label="Permalink to &quot;统一消息模型&quot;">​</a></h2><p>NekoBot 使用统一的消息模型处理不同平台的差异：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;message_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12345</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;group_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">67890</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;user_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">54321</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;sender_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;用户昵称&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;message_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># group 或 private</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;消息内容&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;platform_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;raw_message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 原始消息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1234567890</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="消息处理流程" tabindex="-1">消息处理流程 <a class="header-anchor" href="#消息处理流程" aria-label="Permalink to &quot;消息处理流程&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>平台接收消息</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>转换为统一消息模型</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>放入事件队列</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>流水线调度器处理</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>分发到插件处理</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>转换回平台特定格式发送</span></span></code></pre></div><h2 id="多平台支持" tabindex="-1">多平台支持 <a class="header-anchor" href="#多平台支持" aria-label="Permalink to &quot;多平台支持&quot;">​</a></h2><h3 id="同时连接多个平台" tabindex="-1">同时连接多个平台 <a class="header-anchor" href="#同时连接多个平台" aria-label="Permalink to &quot;同时连接多个平台&quot;">​</a></h3><p>NekoBot 支持同时连接多个平台，只需在配置文件中添加多个平台配置即可。</p><h3 id="跨平台消息转发" tabindex="-1">跨平台消息转发 <a class="header-anchor" href="#跨平台消息转发" aria-label="Permalink to &quot;跨平台消息转发&quot;">​</a></h3><p>通过插件可以实现跨平台消息转发：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CrossPlatformPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">BasePlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> on_message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, message):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 将消息从一个平台转发到另一个平台</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;aiocqhttp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            # 转发到 Telegram</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.send_telegram_message(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                chat_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123456</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">message[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span></code></pre></div><h3 id="平台特定功能" tabindex="-1">平台特定功能 <a class="header-anchor" href="#平台特定功能" aria-label="Permalink to &quot;平台特定功能&quot;">​</a></h3><p>不同平台可能有一些特定的功能，可以通过检查 <code>platform_id</code> 来实现：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> on_message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, message):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;telegram&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Telegram 特定功能</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.handle_telegram_features(message)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;platform_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;discord&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # Discord 特定功能</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        await</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.handle_discord_features(message)</span></span></code></pre></div><h2 id="web-仪表盘管理" tabindex="-1">Web 仪表盘管理 <a class="header-anchor" href="#web-仪表盘管理" aria-label="Permalink to &quot;Web 仪表盘管理&quot;">​</a></h2><p>Web 仪表盘提供完整的平台管理功能：</p><ul><li><strong>平台列表</strong>: 查看所有已配置的平台</li><li><strong>添加平台</strong>: 添加新的平台配置</li><li><strong>编辑配置</strong>: 修改平台配置</li><li><strong>启用/禁用</strong>: 控制平台连接状态</li><li><strong>删除平台</strong>: 移除不需要的平台</li><li><strong>查看统计</strong>: 查看平台消息统计</li></ul><h2 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h2><h3 id="如何选择合适的平台" tabindex="-1">如何选择合适的平台？ <a class="header-anchor" href="#如何选择合适的平台" aria-label="Permalink to &quot;如何选择合适的平台？&quot;">​</a></h3><p>根据你的需求选择：</p><ul><li><strong>QQ</strong>: 适合国内用户，需要先部署 OneBot 实现</li><li><strong>Telegram</strong>: 适合国际用户，支持流式消息</li><li><strong>Discord</strong>: 适合游戏社区，功能丰富</li><li><strong>飞书</strong>: 适合企业协作场景</li><li><strong>企业微信</strong>: 适合企业内部使用</li></ul><h3 id="平台连接失败怎么办" tabindex="-1">平台连接失败怎么办？ <a class="header-anchor" href="#平台连接失败怎么办" aria-label="Permalink to &quot;平台连接失败怎么办？&quot;">​</a></h3><ol><li>检查网络连接</li><li>验证配置信息（token、密钥等）</li><li>查看日志了解具体错误</li><li>确认平台服务是否正常</li></ol><h3 id="如何实现平台特定功能" tabindex="-1">如何实现平台特定功能？ <a class="header-anchor" href="#如何实现平台特定功能" aria-label="Permalink to &quot;如何实现平台特定功能？&quot;">​</a></h3><ol><li>在插件中检查 <code>message[&quot;platform_id&quot;]</code></li><li>根据平台类型调用相应的 API</li><li>使用平台特定的消息格式</li></ol><h3 id="流式消息支持" tabindex="-1">流式消息支持 <a class="header-anchor" href="#流式消息支持" aria-label="Permalink to &quot;流式消息支持&quot;">​</a></h3><p>部分平台支持流式消息（实时发送）：</p><ul><li><strong>支持</strong>: Telegram、KOOK、QQ频道</li><li><strong>不支持</strong>: QQ (OneBot V11)、Discord、飞书、Slack、企业微信</li></ul><h2 id="相关文档" tabindex="-1">相关文档 <a class="header-anchor" href="#相关文档" aria-label="Permalink to &quot;相关文档&quot;">​</a></h2><ul><li><a href="./../develop/platform-adapter.html">平台适配器开发</a></li><li><a href="./../develop/plugin.html">插件开发</a></li><li><a href="./../develop/messages.html">消息类型</a></li></ul>`,51)])])}const g=i(l,[["render",h]]);export{E as __pageData,g as default};
